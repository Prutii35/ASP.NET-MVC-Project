@model IEnumerable<ProiectDaw.Models.Product>

<h2 class="title">Search products</h2>

<div class="container">
    <div class="form-group">
        <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-search" onclick="SearchFunction()"></i></span>
            <input type="text" id="Search" placeholder="Search" class="form-control" />
        </div>
    </div>
    <div class="sortContainer">
        <p class="txt">Sort your list by </p>
        <select id="Sort" onchange="SearchFunction()">
            <option value=""></option>
            <option value="AscPrice">Asc Price</option>
            <option value="DescPrice">Desc Price</option>
            <option value="DescRating">Desc Rating</option>
            <option value="AscRating">Asc rating</option>
        </select>
    </div>
   
</div>
<br /><br />
      <div class="productsContainer">
          @foreach (var item in ViewBag.List)
          {
              <div class="productContainer">
                  <img src="@Url.Content(item.ImagePath)" class="img">
                  <p class="productTitle">@item.ProductName</p>
                  <p class="productCategory">
                      @item.Category.CategoryName
                  </p>
                  <div class="btnContainer">
                      <a class="btnTxt" href="/Product/Show/@item.ProductId">View Details</a>
                  </div>
              </div>
              <br />
          }
      </div>

<script>
    function SearchFunction() {
        var val = $("#Search").val();
        var e = document.getElementById("Sort");
        var sortOrder = e.options[e.selectedIndex].text;
        location.href = '@Url.Action("Search", "Product")?searchVal=' + val + '&sortOrder=' + sortOrder;
    }

  
</script>

<style>
    .productsContainer {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        width: 100%;
    }

    .title {
        text-align: center;
        color: #465362;
        font-size: 20px;
        margin: 20px;
        font-weight: 700;
    }

    .productContainer {
        margin: 20px;
        border-radius: 25px;
        border: 2px solid #465362;
        justify-content: center;
        width: 300px;
        background-color: #F2F2F2;
    }

    .img {
        width: 100%;
        height: 200px;
        border-top-left-radius: 25px;
        border-top-right-radius: 25px;
    }

    .productTitle {
        text-align: center;
        color: #465362;
        font-size: 20px;
        margin: 20px;
        font-weight: 700;
    }

    .productCategory {
        text-align: center;
        color: #3A405A;
        font-size: 20px;
        margin: 20px;
        font-weight: 600;
    }

    .imgTxt {
        text-align: center;
    }

    .btnContainer {
        text-align: center;
        background-color: #465362;
        border-radius: 10px;
        border: 2px solid #465362;
        width: 60%;
        margin: auto;
        padding: 10px;
        font-size: 18px;
        margin-top: 20px;
        margin-bottom: 20px;
        opacity: 0.7;
    }

    .btnTxt {
        color: #F2F2F2;
        text-decoration: none;
    }

        .btnTxt:hover {
            color: #F2F2F2;
            text-decoration: none;
        }

        .btnTxt:active {
            color: #F2F2F2;
            text-decoration: none;
        }


    .btnContainer:hover {
        opacity: 1;
    }
    .sortContainer{
        display:flex;
        flex-direction:row;
      
    }
    #Sort{
        align-self:center;
        justify-content:center;
    }
    .txt {
        text-align: center;
        color: #465362;
        font-size: 17px;
        margin: 20px;
        margin-left:0px;
    }
  
 
</style>

